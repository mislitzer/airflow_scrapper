[2019-06-22 10:18:54,370] {__init__.py:1139} INFO - Dependencies all met for <TaskInstance: second_workflow.branch_task 2019-06-22T08:18:29.993135+00:00 [queued]>
[2019-06-22 10:18:54,376] {__init__.py:1139} INFO - Dependencies all met for <TaskInstance: second_workflow.branch_task 2019-06-22T08:18:29.993135+00:00 [queued]>
[2019-06-22 10:18:54,377] {__init__.py:1353} INFO - 
--------------------------------------------------------------------------------
[2019-06-22 10:18:54,377] {__init__.py:1354} INFO - Starting attempt 1 of 1
[2019-06-22 10:18:54,377] {__init__.py:1355} INFO - 
--------------------------------------------------------------------------------
[2019-06-22 10:18:54,381] {__init__.py:1374} INFO - Executing <Task(BranchPythonOperator): branch_task> on 2019-06-22T08:18:29.993135+00:00
[2019-06-22 10:18:54,382] {base_task_runner.py:119} INFO - Running: ['airflow', 'run', 'second_workflow', 'branch_task', '2019-06-22T08:18:29.993135+00:00', '--job_id', '33', '--raw', '-sd', 'DAGS_FOLDER/second_workflow.py', '--cfg_path', '/var/folders/0s/70dxz1bd1gxf97w1p6wbclgw34w1qq/T/tmp9ckqouxl']
[2019-06-22 10:18:54,842] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task /Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/configuration.py:590: DeprecationWarning: You have two airflow.cfg files: /Users/martin/airflow/airflow.cfg and /Users/martin/dev1/fh/FH/MSc/03_sew/airflow/airflow_home/airflow.cfg. Airflow used to look at ~/airflow/airflow.cfg, even when AIRFLOW_HOME was set to a different value. Airflow will now only read /Users/martin/dev1/fh/FH/MSc/03_sew/airflow/airflow_home/airflow.cfg, and you should remove the other file
[2019-06-22 10:18:54,842] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   category=DeprecationWarning,
[2019-06-22 10:18:55,040] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task [2019-06-22 10:18:55,040] {__init__.py:51} INFO - Using executor SequentialExecutor
[2019-06-22 10:18:55,262] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task [2019-06-22 10:18:55,262] {__init__.py:305} INFO - Filling up the DagBag from /Users/martin/dev1/fh/FH/MSc/03_sew/airflow/airflow_home/dags/second_workflow.py
[2019-06-22 10:18:55,279] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task [2019-06-22 10:18:55,278] {cli.py:517} INFO - Running <TaskInstance: second_workflow.branch_task 2019-06-22T08:18:29.993135+00:00 [running]> on host macbook-wm.local
[2019-06-22 10:18:55,288] {python_operator.py:104} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_ID=second_workflow
AIRFLOW_CTX_TASK_ID=branch_task
AIRFLOW_CTX_EXECUTION_DATE=2019-06-22T08:18:29.993135+00:00
AIRFLOW_CTX_DAG_RUN_ID=manual__2019-06-22T08:18:29.993135+00:00
[2019-06-22 10:18:55,288] {__init__.py:1580} ERROR - 'ti'
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/models/__init__.py", line 1441, in _run_raw_task
    result = task_copy.execute(context=context)
  File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/operators/python_operator.py", line 140, in execute
    branch = super(BranchPythonOperator, self).execute(context)
  File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/operators/python_operator.py", line 112, in execute
    return_value = self.execute_callable()
  File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/operators/python_operator.py", line 117, in execute_callable
    return self.python_callable(*self.op_args, **self.op_kwargs)
  File "/Users/martin/dev1/fh/FH/MSc/03_sew/airflow/airflow_home/dags/second_workflow.py", line 28, in branch
    log.info(context["ti"].xcom_pull(task_ids="check_weekday_task"))
KeyError: 'ti'
[2019-06-22 10:18:55,290] {__init__.py:1611} INFO - Marking task as FAILED.
[2019-06-22 10:18:55,298] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task Traceback (most recent call last):
[2019-06-22 10:18:55,298] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/bin/airflow", line 32, in <module>
[2019-06-22 10:18:55,298] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     args.func(args)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/utils/cli.py", line 74, in wrapper
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     return f(*args, **kwargs)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/bin/cli.py", line 523, in run
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     _run(args, dag, ti)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/bin/cli.py", line 442, in _run
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     pool=args.pool,
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/utils/db.py", line 73, in wrapper
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     return func(*args, **kwargs)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/models/__init__.py", line 1441, in _run_raw_task
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     result = task_copy.execute(context=context)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/operators/python_operator.py", line 140, in execute
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     branch = super(BranchPythonOperator, self).execute(context)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/operators/python_operator.py", line 112, in execute
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     return_value = self.execute_callable()
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/airflow/operators/python_operator.py", line 117, in execute_callable
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     return self.python_callable(*self.op_args, **self.op_kwargs)
[2019-06-22 10:18:55,299] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task   File "/Users/martin/dev1/fh/FH/MSc/03_sew/airflow/airflow_home/dags/second_workflow.py", line 28, in branch
[2019-06-22 10:18:55,300] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task     log.info(context["ti"].xcom_pull(task_ids="check_weekday_task"))
[2019-06-22 10:18:55,300] {base_task_runner.py:101} INFO - Job 33: Subtask branch_task KeyError: 'ti'
[2019-06-22 10:18:59,368] {logging_mixin.py:95} INFO - [2019-06-22 10:18:59,367] {jobs.py:2562} INFO - Task exited with return code 1
